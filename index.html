<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="favicon.ico">

    <title>Thargoid Symbols</title>

    <!-- Bootstrap core CSS -->
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/site.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
  </head>

  <body>

    <h1 class="text-center canonn-heading">Thargoid Glyphs</h1>

    <div class="container">

      <div class="panel">
        <div class="row">
          <div class="col-2">
              <div class="row">
                <div class="col-12 iconography">
                  <img src="images/symbols/core.png" id="core">
                  <img src="images/symbols/1.png" id="inner-ring">
                  <img src="images/symbols/1A.png" id="outer-ring">
                </div>
              </div>  
              <div class="row">
                <div class="col-12">
                  <input type="text" id="glyph-code" size="10" value="" readonly>
                </div>
              </div>
          </div>

          <div class="col-10">
            <div class="row">
              <div class="col-12">
                <h2>Inner Ring</h2>
              </div>
            </div>
            <div class="row">
              <div class="col-12">
                <div class="btn-group canonn-ring-inner" role="group" aria-label="Inner Ring">
                  <button type="button" class="btn btn-secondary" value="1"><img src="images/symbols/1.png"></button>
                  <button type="button" class="btn btn-secondary" value="2"><img src="images/symbols/2.png"></button>
                  <button type="button" class="btn btn-secondary" value="3"><img src="images/symbols/3.png"></button>
                </div>
              </div>
            </div>    

            <div class="row">
              <div class="col-12">
                <h2>Outer Ring</h2>
              </div>
            </div>
            <div class="row">
              <div class="col-12">
                <div class="btn-group btn-group-sm canonn-ring-outer" role="group" aria-label="Outer Ring Group 1">
                  <button type="button" class="btn btn-secondary" value="1A"><img src="images/symbols/1A.png"></button>
                  <button type="button" class="btn btn-secondary" value="1B"><img src="images/symbols/1B.png"></button>
                  <button type="button" class="btn btn-secondary" value="1C"><img src="images/symbols/1C.png"></button>
                  <button type="button" class="btn btn-secondary" value="1D"><img src="images/symbols/1D.png"></button>
                </div>
              </div>
            </div>  
            <div class="row">
              <div class="col-12">
                <div class="btn-group btn-group-sm canonn-ring-outer" role="group" aria-label="Outer Ring Group 2">
                  <button type="button" class="btn btn-secondary" value="2A"><img src="images/symbols/2A.png"></button>
                  <button type="button" class="btn btn-secondary" value="2B"><img src="images/symbols/2B.png"></button>
                  <button type="button" class="btn btn-secondary" value="2C"><img src="images/symbols/2C.png"></button>
                  <button type="button" class="btn btn-secondary" value="2D"><img src="images/symbols/2D.png"></button>
                  <button type="button" class="btn btn-secondary" value="2E"><img src="images/symbols/2E.png"></button>
                </div>
              </div>
            </div>    

            <div class="row">
              <div class="col-12">
                <div class="btn-group btn-group-sm canonn-ring-outer" role="group" aria-label="Outer Ring Group 3">
                  <button type="button" class="btn btn-secondary" value="3A"><img src="images/symbols/3A.png"></button>
                  <button type="button" class="btn btn-secondary" value="3B"><img src="images/symbols/3B.png"></button>
                </div>
              </div>
            </div>   

            <div class="row">
              <div class="col-12">
                <div class="btn-group btn-group-sm canonn-ring-outer" role="group" aria-label="Outer Ring Group 4">
                  <button type="button" class="btn btn-secondary" value="4A"><img src="images/symbols/4A.png"></button>
                  <button type="button" class="btn btn-secondary" value="4B"><img src="images/symbols/4B.png"></button>
                  <button type="button" class="btn btn-secondary" value="4C"><img src="images/symbols/4C.png"></button>
                  <button type="button" class="btn btn-secondary" value="4D"><img src="images/symbols/4D.png"></button>
                  <button type="button" class="btn btn-secondary" value="4E"><img src="images/symbols/4E.png"></button>
                  <button type="button" class="btn btn-secondary" value="4F"><img src="images/symbols/4F.png"></button>
                  <button type="button" class="btn btn-secondary" value="4G"><img src="images/symbols/4G.png"></button>
                  <button type="button" class="btn btn-secondary" value="4H"><img src="images/symbols/4H.png"></button>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-12">
                <div class="btn-group btn-group-sm canonn-ring-outer" role="group" aria-label="Outer Ring Group 7">
                  <button type="button" class="btn btn-secondary" value="7A"><img src="images/symbols/7A.png"></button>
                </div>
              </div>
            </div>

          </div>
        </div>
              
      </div>

    </div><!-- /.container -->




    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>

    <script src="bootstrap/js/bootstrap.min.js"></script>


    <script>
      window.thargoidGlyph = {
        inner:'1',
        outer:'1A'
      }

      function updateSelection(){
        window.thargoidGlyph.inner = window.thargoidGlyph.inner.toUpperCase();
        window.thargoidGlyph.outer = window.thargoidGlyph.outer.toUpperCase();
        
        $('#glyph-code').val(window.thargoidGlyph.outer + '-' + window.thargoidGlyph.inner);

        $('#inner-ring').attr('src','images/symbols/' + window.thargoidGlyph.inner + '.png');
        $('#outer-ring').attr('src','images/symbols/' + window.thargoidGlyph.outer + '.png');

        $('#glyph-code').val(window.thargoidGlyph.outer + '-' + window.thargoidGlyph.inner);

        window.location.hash = $('#glyph-code').val();
      }

      function processNavPath(){
        //Check for navigation
        var navData = String(window.location.hash || '').replace('#','').split('-');
        window.thargoidGlyph.outer = String(navData[0] || '1A');
        window.thargoidGlyph.inner = String(navData[1] || '1');

        //Select the specific items
        setRingSelectedItem('outer',window.thargoidGlyph.outer);
        setRingSelectedItem('inner',window.thargoidGlyph.inner);
        
        //Update the display
        updateSelection();

      }

      function setRingSelectedItem(ring,value){
        //Clear the status of other elements
        $('.canonn-ring-' + ring +' .btn').removeClass("selected");
        $('.canonn-ring-' + ring +' .btn[value=' + value + ']').addClass("selected");

        //Store teh value        
        window.thargoidGlyph[ring] = value;
      }


      $(document).ready(function(){
        $(".btn-group > .btn").click(function(){
            //Get class from the parent
            if($(this).parent().hasClass('canonn-ring-inner')){
              //Clear the status of other elements
              setRingSelectedItem('inner',$(this).val());             
            }

            if($(this).parent().hasClass('canonn-ring-outer')){
              //Clear the status of other elements
              setRingSelectedItem('outer',$(this).val());             
            }


            //update the display
            updateSelection();
        });

        $(window).on('hashchange', function() {

          //Process any #1A-3 tags
          processNavPath();

        });

        //Initial processing
        processNavPath();

      });



    
    </script>
  </body>
</html>
