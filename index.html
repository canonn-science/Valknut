<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="favicon.ico">

    <title>Thargoid Interactions</title>

    <!-- Bootstrap core CSS -->
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/site.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
</head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-102148507-4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-102148507-4');
</script>  

  <body>

    <h1 class="text-center canonn-heading">Thargoid Interactions</h1>

    <div class="container">

      <div class="panel">
        
        <div class="row">
          <div class="col-4">
              <div class="row">
                <div class="col-12 iconography">
                  <img src="images/symbols/core.png" id="core">
                  <img src="images/symbols/1.png" id="inner-ring">
                  <img src="images/symbols/1A.png" id="outer-ring">
                </div>
              </div>  

			  <div class="row">
                <div class="col-3 text-right">
                  CMDR:
                </div>
                <div class="col-9">
                  <input type="text" id="cmdr" class="user-selectable" size="" value="Anonymous" >
				  <input type="hidden" id="guid" class="hidden" size="" value="Anonymous" >
                </div>
              </div>  			  

			  
			  
              <div class="row">
                <div class="col-3 text-right">
                  Code:
                </div>
                <div class="col-9">
                  <input type="text" id="glyph-code" class="user-selectable" size="15" value="" >
                </div>
              </div>  

              <div class="row">
                <div class="col-3 text-right">
                  Image:
                </div>
                <div class="col-9">
                  <input type="text" id="glyph-composite"  class="user-selectable" size="15" value="" readonly>
                </div>
              </div>  
			  
			  <div class="row">
                <div class="col-3 text-right">
                  Event:
                </div>
                <div class="col-9" id="event">
                   <select id="eventsel" >
				    <option value="NHSS" selected>Non Human Signal Source</option>
					<option value="Hyperdiction">Hyperdiction</option>
					<option value="ASS">Alien Surface Site</option>
					<option value="BSS">Barnacle Site</option>				
					<option value="USS">Unidentified Signal Source</option>					
					<option value="Other">Other</option>
					</select> 
                </div>
              </div>  
			  
			  			  
			  <div class="row">
                <div class="col-3 text-right">
                  System:
                </div>
                <div class="col-9">
                  <input type="text" id="system" class="user-selectable" size="" value="" >
				  <input type="hidden" id="systemx" class="hidden" size="" value="" >
				  <input type="hidden" id="systemy" class="hidden" size="" value="" >
				  <input type="hidden" id="systemz" class="hidden" size="" value="" >
                </div>
              </div>  
			  <div class="row" id="divDestination">
                <div class="col-3 text-right">
                  Jump System:
                </div>
                <div class="col-9" >
                  <input type="text" id="destination" class="user-selectable" size="" value="" >
				  <input type="hidden" id="jumpx" class="hidden" size="" value="" >	
				  <input type="hidden" id="jumpy" class="hidden" size="" value="" >
				  <input type="hidden" id="jumpz" class="hidden" size="" value="" >				  
                </div>
              </div>  			  
			  <div class="row" id="divBodyType">
                <div class="col-3 text-right">
                  Body Type:
                </div>
                <div class="col-9" id="bodytype">
                    <select id="bodyTypeSel" >
				    <option value="None">None</option>	
					<option value="Star">Star</option>
					<option value="Planet">Planet</option>
					<option value="PlanetaryRing">Planetary Ring</option>				
					<option value="Stellar Ring">Stellar Ring</option>									
					<option value="Station">Station</option>					
					<option value="AsteroidCluster">Asteroid Cluster</option>
					</select> 
                </div>
              </div>  			  
			  <div class="row" id="divBody">
                <div class="col-3 text-right">
                  Body:
                </div>
                <div class="col-9">
                  <input type="text" id="body" class="user-selectable" size="" value="" >
                </div>
              </div>  
				<div class="row" id="divLat">
                <div class="col-3 text-right">
                  Lattitude:
                </div>
                <div class="col-9">
                  <input type="text" id="lat" class="user-selectable" size="" value="" >
                </div>
              </div>  
			  
			  <div class="row" id="divLong">
                <div class="col-3 text-right">
                  Longitude:
                </div>
                <div class="col-9">
                  <input type="text" id="lon" class="user-selectable" size="" value="" >
                </div>
              </div>  
			  
			  
			  
			  
			  <div class="row">
                <div class="col-3 text-right">
                  Report:
                </div>
                <div class="col-9">
                  <!--input type="textarea" id="body" class="user-selectable" size="" value="" -->
				  <textarea id="freetext"></textarea>
                </div>
              </div>  			  			  
			  
			  <div class="row">
                <div class="col-3 text-right">
                  &nbsp;
                </div>
                <div class="col-9">
				<form id="submitrep">
                  <input type="submit" id="submit" class="" size="" value="Submit Report" >
				  </form>
                </div>
              </div>  
          </div>

          <div class="col-8">
            <div class="row">
              <div class="col-12">
                <h2>Inner Ring</h2>
              </div>
            </div>
            <div class="row">
              <div class="col-12 ring-group canonn-ring-inner">
				  <button type="button" class="btn btn-secondary" value="0"><img src="images/symbols/0.png" title="Unknown"></button>
                  <button type="button" class="btn btn-secondary" value="1"><img src="images/symbols/1.png"></button>
                  <button type="button" class="btn btn-secondary" value="2"><img src="images/symbols/2.png"></button>
                  <button type="button" class="btn btn-secondary" value="3"><img src="images/symbols/3.png"></button>
              </div>
            </div>    

            <div class="row">
              <div class="col-12">
                <h2>Outer Ring</h2>
              </div>
            </div>
            <div class="row">
              <div class="col-12 ring-group canonn-ring-outer">
				  <button type="button" class="btn btn-secondary" value="0A"><img src="images/symbols/0A.png" title="Unknown"></button>
                  <button type="button" class="btn btn-secondary" value="1A"><img src="images/symbols/1A.png"></button>
                  <button type="button" class="btn btn-secondary" value="1B"><img src="images/symbols/1B.png"></button>
                  <button type="button" class="btn btn-secondary" value="1C"><img src="images/symbols/1C.png"></button>
                  <button type="button" class="btn btn-secondary" value="1D"><img src="images/symbols/1D.png"></button>
              </div>
            </div>  
            <div class="row">
              <div class="col-12 ring-group canonn-ring-outer">
                  <button type="button" class="btn btn-secondary" value="2A"><img src="images/symbols/2A.png"></button>
                  <button type="button" class="btn btn-secondary" value="2B"><img src="images/symbols/2B.png"></button>
                  <button type="button" class="btn btn-secondary" value="2C"><img src="images/symbols/2C.png"></button>
                  <button type="button" class="btn btn-secondary" value="2D"><img src="images/symbols/2D.png"></button>
                  <button type="button" class="btn btn-secondary" value="2E"><img src="images/symbols/2E.png"></button>
              </div>
            </div>    

            <div class="row">
              <div class="col-12 ring-group canonn-ring-outer">
                  <button type="button" class="btn btn-secondary" value="3A"><img src="images/symbols/3A.png"></button>
                  <button type="button" class="btn btn-secondary" value="3B"><img src="images/symbols/3B.png"></button>
              </div>
            </div>   

            <div class="row">
              <div class="col-12 ring-group canonn-ring-outer">
                  <button type="button" class="btn btn-secondary" value="4A"><img src="images/symbols/4A.png"></button>
                  <button type="button" class="btn btn-secondary" value="4B"><img src="images/symbols/4B.png"></button>
                  <button type="button" class="btn btn-secondary" value="4C"><img src="images/symbols/4C.png"></button>
                  <button type="button" class="btn btn-secondary" value="4D"><img src="images/symbols/4D.png"></button>
                  <button type="button" class="btn btn-secondary" value="4E"><img src="images/symbols/4E.png"></button>
                  <button type="button" class="btn btn-secondary" value="4F"><img src="images/symbols/4F.png"></button>
                  
                  
              </div>
            </div>

            <div class="row">
              <div class="col-12 ring-group canonn-ring-outer">
                  <button type="button" class="btn btn-secondary" value="5A"><img src="images/symbols/5A.png"></button>
              </div>
            </div>

            

            <div class="row">
              <div class="col-12 ring-group canonn-ring-outer">
                  <button type="button" class="btn btn-secondary" value="7A"><img src="images/symbols/7A.png"></button>
              </div>
            </div>

          </div>
        </div>

        <div class="row">
          <div class="col-12">
            <p>
            Symbol Version 3.0 updated 11/10/2017
            </p>
            <p>
            Select the Inner Ring component, and then choose the corresponding Outer Ring component to step through all the various combinations until you get the mix you want.
            </p>

            <p>Copy from the Image field to paste a direct link to the chosen combination wherever you want to refer to and display that glyph combination, on the forums or in a Discord chat.</p>

            <p>This tool will continue to be extended and further information added as more analysis becomes available.</p>

            <p>This work would not have been possible without the pioneering research of CMDR Orodir, CMDR Olivia Vespera and other commanders <a target="blank" href="https://forums.frontier.co.uk/showthread.php/379844-Xenobiology-study-of-Thargoid-Ship-Logograms-Compendium">documented here</a></p>
          </div>
        </div>
              
      </div>

    </div><!-- /.container -->




    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>

    <script src="bootstrap/js/bootstrap.min.js"></script>


    <script>
	$( document ).ready(function() {
      window.thargoidGlyph = {
        inner:'1',
        outer:'1A'
      }

	  $.urlParam = function(name){
	    try {
		var results = new RegExp('[\?&]' + name + '=([^&#]*)').exec(window.location.href);
		  return results[1] || 0;
		} catch (error) {
		  return ""
		}
	  }
	  
	  
	  // This function need to be called 
	  function displayEvent(sel,value){
	  console.log(sel);
		console.log(value);
			
		switch($('#eventsel').val()) {
			case "Hyperdiction":
				$('#divBodyType').hide()
				$('#divBody').hide()
				$('#divDestination').show()
				$('#divLat').hide()
				$('#divLong').hide()
			break;
 			case "NHSS":
				$('#divBodyType').show()
				
				if ( $('#bodyTypeSel').val() == "None" ) {
					$('#divBody').hide()
				} else {
					$('#divBody').show()
				}
				$('#divDestination').hide()
				$('#divLat').hide()
				$('#divLong').hide()
			break;
			case "ASS":		
				$('#divDestination').hide()
				$('#bodyTypeSel option[value='+"Planet"+']').attr('selected','selected');
				$('#divBodyType').hide()
				$('#divBody').show()
				$('#divLat').show()
			    $('#divLong').show()
			break;			
			case "BSS":
				$('#divDestination').hide()
				$('#bodyTypeSel option[value='+"Planet"+']').attr('selected','selected');
				$('#divBodyType').hide()
				$('#divBody').show()
				$('#divLat').show()
			    $('#divLong').show()

			break;								
			case "USS":
				$('#divBodyType').show()
				if ( $('#bodyTypeSel').val() == "None" ) {
					$('#divBody').hide()
				} else {
					$('#divBody').show()
				}
				$('#divDestination').hide()
				$('#divLat').hide()
				$('#divLong').hide()
			break;						 
		default:
			$('#divBodyType').show()
			if ( $('#bodyTypeSel').val() == "None" ) {
					$('#divBody').hide()
				} else {
					$('#divBody').show()
			}
			$('#divBody').show()
			$('#divDestination').hide()
			$('#divLat').show()
			$('#divLong').show()
		} 
		console.log("displayed")
	  }
	  
	  
	  
	  $("#eventsel").on("change", function() {
	    console.log( "eventsel");
		console.log( "this.value");
	    displayEvent("#eventsel",this.value);
		
	  });
	  
	  $("#bodyTypeSel").on("change", function() {
		console.log(  "bodyTypeSel");
		console.log( "this.value");
	    displayEvent("#bodyTypeSel",this.value);
		
	  });
	
	
	 $( "#submitrep" ).submit(function( event ) {
       //alert( "Handler for .submit() called." );
	   //https://docs.google.com/forms/d/e/1FAIpQLSenIvVoUv7JhEx1Em0qlRPDdZM1J35FIyhG9-s0ASNrfrIMJg/viewform?usp=pp_url&entry.1570264331=CMDR&entry.1654097960=Hyperdiction&entry.832836744=SYSTEM&entry.1880476925=DEST&entry.693778213=USSTYPE&entry.454645020=THREAT&entry.806506140=BODY&entry.1831976373=Planet&entry.92163651=CODE&entry.316689034=REPORT&entry.1723043342=GUID
	   var url="https://docs.google.com/forms/d/e/1FAIpQLSenIvVoUv7JhEx1Em0qlRPDdZM1J35FIyhG9-s0ASNrfrIMJg/formResponse?usp=pp_url";
	   var cmdr="entry.1570264331="+$('#cmdr').val();
	   var event="entry.1654097960="+$('#eventsel').val();
	   var system="entry.832836744="+$('#system').val();
	   var dest="entry.1880476925="+$('#destination').val();
	   var uss="entry.693778213=USSTYPE";
	   var threat="entry.454645020=TLEVEL";
	   var body="entry.806506140="+$('#body').val();
	   var bodytype="entry.1831976373="+$('#bodyTypeSel').val();
	   var code="entry.92163651="+$('#code').val();
	   var report="entry.316689034=REPORT"+$('#report').val();
	   var guid="entry.1723043342"+$('#guid').val();
       //event.preventDefault();
	   console.log(url+"&"+cmdr+"&"+event+"&"+system+"&"+dest+"&"+uss+"&"+threat+"&"+body+"&"+bodytype+"&"+code+"&"+report+"&"+guid)
	   window.location = url+"&"+cmdr+"&"+event+"&"+system+"&"+dest+"&"+uss+"&"+threat+"&"+body+"&"+bodytype+"&"+code+"&"+report+"&"+guid;
	   return false;
     });
	 
	 
	  
      function updateSelection(){
        window.thargoidGlyph.inner = window.thargoidGlyph.inner.toUpperCase();
        window.thargoidGlyph.outer = window.thargoidGlyph.outer.toUpperCase();
        
        //Update symbols
        $('#inner-ring').attr('src','images/symbols/' + window.thargoidGlyph.inner + '.png');
        $('#outer-ring').attr('src','images/symbols/' + window.thargoidGlyph.outer + '.png');
        

        //Generate the code
        var glyphCode = window.thargoidGlyph.outer + '-' + window.thargoidGlyph.inner;
        $('#glyph-code').val(glyphCode);

        //Generate the composite including identifying the path of the given site
        var sitePath = window.location.href;
        sitePath = sitePath.substring(0, sitePath.lastIndexOf("/")+1);
        $('#glyph-composite').val(sitePath + 'images/composite/' + glyphCode + '.png');

        //Update the window URI so it can be copied/pasted
        window.location.hash = glyphCode;
      }

      function processNavPath(){
        //Check for navigation
        var navData = String(window.location.hash || '').replace('#','').split('-');
        window.thargoidGlyph.outer = String(navData[0] || '1A');
        window.thargoidGlyph.inner = String(navData[1] || '1');

        //Select the specific items
        setRingSelectedItem('outer',window.thargoidGlyph.outer);
        setRingSelectedItem('inner',window.thargoidGlyph.inner);
        
        //Update the display
        updateSelection();

      }

      function setRingSelectedItem(ring,value){
        //Clear the status of other elements
        $('.canonn-ring-' + ring +' .btn').removeClass("selected");
        $('.canonn-ring-' + ring +' .btn[value=' + value + ']').addClass("selected");

        //Store teh value        
        window.thargoidGlyph[ring] = value;
      }

	  function getCoordinates(system){
		$.getJSON('https://www.edsm.net/api-v1/system?systemName='+system+"&showCoordinates=1", function(data) {
		//data is the JSON string
		});
		return data;
	  }

      $(document).ready(function(){
        $(".ring-group > .btn").click(function(){
            //Get class from the parent
            if($(this).parent().hasClass('canonn-ring-inner')){
              //Clear the status of other elements
              setRingSelectedItem('inner',$(this).val());             
            }

            if($(this).parent().hasClass('canonn-ring-outer')){
              //Clear the status of other elements
              setRingSelectedItem('outer',$(this).val());             
            }


            //update the display
            updateSelection();
        });

				
		$('#system').val($.urlParam('system'));
		$('#body').val($.urlParam('body'));
		$('#event option[value='+$.urlParam('event')+']').attr('selected','selected');
		$('#bodyTypeSel option[value="'+$.urlParam('bodytype')+'"]').attr('selected','selected');
		
		displayEvent($.urlParam('event'))
		
        $(window).on('hashchange', function() {
          //Process any #1A-3 tags
          processNavPath();
        });

        //Handle user copy/selection of the glyph codes
        $('.user-selectable').on('contextmenu',function(){
          $(this).select();
        });

        //Initial processing
        processNavPath();

      });
    });	
    </script>
  </body>
</html>
